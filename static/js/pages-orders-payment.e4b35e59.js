(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-payment"],{"31eb":function(t,a,e){"use strict";var i=e("5cfb"),n=e.n(i);n.a},"538b":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"header"},[e("v-uni-view",{staticClass:"back-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goBack.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"fas fa-chevron-left"})],1),e("v-uni-text",{staticClass:"title"},[t._v("订单支付")]),e("v-uni-view",{staticClass:"header-right"},[e("v-uni-text",{staticClass:"fas fa-headset"})],1)],1),t.order?e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"order-card"},[e("v-uni-view",{staticClass:"order-header"},[e("v-uni-text",{staticClass:"order-no"},[t._v("订单号: "+t._s(t.order.orderNo))]),e("v-uni-text",{staticClass:"order-status"},[t._v("待付款")])],1),e("v-uni-view",{staticClass:"countdown-container"},[e("v-uni-view",{staticClass:"countdown-label"},[e("v-uni-text",{staticClass:"fas fa-clock"}),e("v-uni-text",[t._v("支付倒计时")])],1),e("v-uni-view",{staticClass:"countdown"},[e("v-uni-text",{staticClass:"time-block"},[t._v(t._s(t.countdown.hours))]),e("v-uni-text",{staticClass:"time-separator"},[t._v(":")]),e("v-uni-text",{staticClass:"time-block"},[t._v(t._s(t.countdown.minutes))]),e("v-uni-text",{staticClass:"time-separator"},[t._v(":")]),e("v-uni-text",{staticClass:"time-block"},[t._v(t._s(t.countdown.seconds))])],1)],1),e("v-uni-view",{staticClass:"divider"}),e("v-uni-view",{staticClass:"amount-info"},[e("v-uni-text",{staticClass:"amount-label"},[t._v("支付金额")]),e("v-uni-text",{staticClass:"amount"},[t._v("¥"+t._s(t.order.totalPrice))])],1)],1),e("v-uni-view",{staticClass:"section"},[e("v-uni-view",{staticClass:"section-title"},[e("v-uni-text",{staticClass:"title-text"},[t._v("选择支付方式")])],1),e("v-uni-view",{staticClass:"payment-methods"},t._l(t.paymentMethods,(function(a){return e("v-uni-view",{key:a.id,staticClass:"payment-method",class:{active:t.selectedPayment===a.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectPayment(a.id)}}},[e("v-uni-view",{staticClass:"payment-icon",class:a.iconClass},[e("v-uni-text",{class:a.icon})],1),e("v-uni-view",{staticClass:"payment-info"},[e("v-uni-text",{staticClass:"payment-name"},[t._v(t._s(a.name))]),e("v-uni-text",{staticClass:"payment-desc"},[t._v(t._s(a.desc))])],1),e("v-uni-view",{staticClass:"payment-select"},[e("v-uni-text",{staticClass:"fas",class:t.selectedPayment===a.id?"fa-check-circle":"fa-circle"})],1)],1)})),1)],1),e("v-uni-view",{staticClass:"section"},[e("v-uni-view",{staticClass:"section-title"},[e("v-uni-text",{staticClass:"title-text"},[t._v("订单详情")]),e("v-uni-view",{staticClass:"collapse-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toggleOrderDetails.apply(void 0,arguments)}}},[e("v-uni-text",[t._v(t._s(t.showOrderDetails?"收起":"展开"))]),e("v-uni-text",{staticClass:"fas",class:t.showOrderDetails?"fa-chevron-up":"fa-chevron-down"})],1)],1),t.showOrderDetails?e("v-uni-view",{staticClass:"order-details"},[e("v-uni-view",{staticClass:"detail-item"},[e("v-uni-text",{staticClass:"detail-label"},[t._v("商品金额")]),e("v-uni-text",{staticClass:"detail-value"},[t._v("¥"+t._s(t.order.price*t.order.quantity))])],1),e("v-uni-view",{staticClass:"detail-item"},[e("v-uni-text",{staticClass:"detail-label"},[t._v("运费")]),e("v-uni-text",{staticClass:"detail-value"},[t._v("¥"+t._s(t.order.shippingFee))])],1),e("v-uni-view",{staticClass:"detail-item"},[e("v-uni-text",{staticClass:"detail-label"},[t._v("优惠")]),e("v-uni-text",{staticClass:"detail-value discount"},[t._v("-¥"+t._s(t.order.discount||0))])],1),e("v-uni-view",{staticClass:"detail-item total"},[e("v-uni-text",{staticClass:"detail-label"},[t._v("合计")]),e("v-uni-text",{staticClass:"detail-value total-value"},[t._v("¥"+t._s(t.order.totalPrice))])],1)],1):t._e()],1)],1):t._e(),e("v-uni-view",{staticClass:"footer"},[e("v-uni-view",{staticClass:"footer-inner"},[e("v-uni-view",{staticClass:"total-amount"},[e("v-uni-text",[t._v("需支付：")]),e("v-uni-text",{staticClass:"amount"},[t._v("¥"+t._s(t.order?t.order.totalPrice:"0.00"))])],1),e("v-uni-view",{staticClass:"pay-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.confirmPayment.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("立即支付")])],1)],1),e("v-uni-view",{staticClass:"safe-area-bottom"})],1)],1)},n=[]},"57fd":function(t,a,e){"use strict";e.r(a);var i=e("ddca"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"5cfb":function(t,a,e){var i=e("d25a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("9b502712",i,!0,{sourceMap:!1,shadowMode:!1})},7413:function(t,a,e){"use strict";e.r(a);var i=e("538b"),n=e("57fd");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("31eb");var s=e("828b"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"197903b3",null,!1,i["a"],void 0);a["default"]=r.exports},d25a:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'.container[data-v-197903b3]{min-height:100vh;background-color:#f8f8f8;position:relative;padding-bottom:%?180?%}.header[data-v-197903b3]{height:%?88?%;background-color:hsla(0,0%,100%,.95);display:flex;align-items:center;padding:0 %?30?%;position:-webkit-sticky;position:sticky;top:0;z-index:100;box-shadow:0 %?4?% %?20?% rgba(0,0,0,.05);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.back-btn[data-v-197903b3], .header-right[data-v-197903b3]{width:%?60?%;height:%?60?%;display:flex;align-items:center;justify-content:center;position:absolute;color:#333;transition:all .2s ease}.back-btn[data-v-197903b3]{left:%?30?%}.header-right[data-v-197903b3]{right:%?30?%}.back-btn[data-v-197903b3]:active, .header-right[data-v-197903b3]:active{-webkit-transform:scale(.9);transform:scale(.9);color:#d4a35a}.title[data-v-197903b3]{flex:1;text-align:center;font-size:%?34?%;font-weight:500;color:#333;letter-spacing:%?1?%}.content[data-v-197903b3]{padding:%?30?%}.section[data-v-197903b3]{margin-bottom:%?40?%;background-color:#fff;border-radius:%?20?%;overflow:hidden;box-shadow:0 %?8?% %?20?% rgba(0,0,0,.05);transition:all .3s ease}.section-title[data-v-197903b3]{display:flex;justify-content:space-between;align-items:center;padding:%?30?%;border-bottom:1px solid rgba(0,0,0,.05)}.title-text[data-v-197903b3]{font-size:%?30?%;font-weight:500;color:#333;position:relative;padding-left:%?20?%}.title-text[data-v-197903b3]::before{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:%?6?%;height:%?30?%;background:linear-gradient(180deg,#d4a35a,#be8a3d);border-radius:%?3?%}.collapse-btn[data-v-197903b3]{display:flex;align-items:center;color:#999;font-size:%?26?%;transition:all .3s ease}.collapse-btn uni-text[data-v-197903b3]{margin-left:%?10?%}.collapse-btn[data-v-197903b3]:active{color:#d4a35a;-webkit-transform:scale(.98);transform:scale(.98)}\n\n/* 订单卡片样式 */.order-card[data-v-197903b3]{background:#fff;border-radius:%?20?%;padding:%?30?%;margin-bottom:%?40?%;box-shadow:0 %?8?% %?30?% rgba(0,0,0,.08);position:relative;overflow:hidden}.order-card[data-v-197903b3]::after{content:"";position:absolute;top:0;right:0;width:%?120?%;height:%?120?%;background:linear-gradient(135deg,transparent 50%,rgba(212,163,90,.1) 0);border-radius:0 0 0 %?120?%;z-index:1}.order-header[data-v-197903b3]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.order-no[data-v-197903b3]{font-size:%?26?%;color:#666;font-weight:500}.order-status[data-v-197903b3]{font-size:%?26?%;color:#d4a35a;background-color:rgba(212,163,90,.1);padding:%?6?% %?16?%;border-radius:%?20?%;letter-spacing:%?1?%}.divider[data-v-197903b3]{height:1px;background:linear-gradient(90deg,rgba(0,0,0,.05),rgba(0,0,0,.02),rgba(0,0,0,.05));margin:%?30?% 0}\n\n/* 倒计时样式 */.countdown-container[data-v-197903b3]{margin-top:%?20?%;display:flex;flex-direction:column;align-items:center}.countdown-label[data-v-197903b3]{display:flex;align-items:center;color:#666;font-size:%?26?%;margin-bottom:%?15?%}.countdown-label uni-text[data-v-197903b3]:first-child{color:#d4a35a;margin-right:%?10?%}.countdown[data-v-197903b3]{display:flex;align-items:center;justify-content:center}.time-block[data-v-197903b3]{width:%?60?%;height:%?60?%;background:linear-gradient(135deg,#323232,#1a1a1a);color:#fff;border-radius:%?10?%;display:flex;align-items:center;justify-content:center;font-size:%?34?%;font-weight:500;box-shadow:0 %?4?% %?8?% rgba(0,0,0,.2)}.time-separator[data-v-197903b3]{margin:0 %?10?%;color:#1a1a1a;font-size:%?34?%;font-weight:700}\n\n/* 金额信息 */.amount-info[data-v-197903b3]{display:flex;flex-direction:column;align-items:center;margin-top:%?10?%}.amount-label[data-v-197903b3]{font-size:%?28?%;color:#666;margin-bottom:%?15?%}.amount[data-v-197903b3]{font-size:%?60?%;font-weight:600;color:#d4a35a;text-shadow:0 %?2?% %?4?% rgba(0,0,0,.1);letter-spacing:%?2?%}\n\n/* 支付方式 */.payment-methods[data-v-197903b3]{padding:%?20?% %?30?% %?30?%}.payment-method[data-v-197903b3]{display:flex;align-items:center;padding:%?30?% %?20?%;border-bottom:1px solid rgba(0,0,0,.05);transition:all .3s ease;position:relative}.payment-method[data-v-197903b3]:last-child{border-bottom:none}.payment-method[data-v-197903b3]::before{content:"";position:absolute;left:0;top:0;height:100%;width:%?4?%;background:linear-gradient(180deg,#d4a35a,#be8a3d);opacity:0;transition:opacity .3s ease}.payment-method.active[data-v-197903b3]::before{opacity:1}.payment-method[data-v-197903b3]:active{background-color:rgba(0,0,0,.02)}.payment-icon[data-v-197903b3]{width:%?80?%;height:%?80?%;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:%?20?%;font-size:%?40?%;background-color:rgba(0,0,0,.03);transition:all .3s ease}.wx-icon[data-v-197903b3]{color:#07c160}.ali-icon[data-v-197903b3]{color:#1677ff}.union-icon[data-v-197903b3]{color:#e60012}.payment-method.active .payment-icon[data-v-197903b3]{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1)}.payment-info[data-v-197903b3]{flex:1}.payment-name[data-v-197903b3]{font-size:%?30?%;color:#333;font-weight:500;margin-bottom:%?6?%}.payment-desc[data-v-197903b3]{font-size:%?24?%;color:#999}.payment-select[data-v-197903b3]{padding:0 %?10?%;color:#d4a35a;font-size:%?34?%}.payment-method:not(.active) .payment-select[data-v-197903b3]{color:#ddd}\n\n/* 订单详情 */.order-details[data-v-197903b3]{padding:%?20?% %?30?% %?30?%;-webkit-animation:slideDown-data-v-197903b3 .3s ease-out;animation:slideDown-data-v-197903b3 .3s ease-out}@-webkit-keyframes slideDown-data-v-197903b3{from{opacity:0;-webkit-transform:translateY(%?-20?%);transform:translateY(%?-20?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slideDown-data-v-197903b3{from{opacity:0;-webkit-transform:translateY(%?-20?%);transform:translateY(%?-20?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.detail-item[data-v-197903b3]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?20?%}.detail-item.total[data-v-197903b3]{margin-top:%?30?%;padding-top:%?20?%;border-top:1px dashed rgba(0,0,0,.1)}.detail-label[data-v-197903b3]{font-size:%?28?%;color:#666}.detail-value[data-v-197903b3]{font-size:%?28?%;color:#333;font-weight:500}.discount[data-v-197903b3]{color:#ff4d4f}.total-value[data-v-197903b3]{font-size:%?34?%;color:#d4a35a;font-weight:600}\n\n/* 底部固定支付按钮 */.footer[data-v-197903b3]{position:fixed;left:0;right:0;bottom:0;background-color:#fff;z-index:99;box-shadow:0 %?-4?% %?20?% rgba(0,0,0,.08)}.footer-inner[data-v-197903b3]{display:flex;align-items:center;padding:%?20?% %?30?%}.safe-area-bottom[data-v-197903b3]{height:env(safe-area-inset-bottom,0);background-color:#fff}.total-amount[data-v-197903b3]{flex:1;display:flex;align-items:baseline;color:#333;font-size:%?28?%}.total-amount .amount[data-v-197903b3]{font-size:%?40?%;font-weight:600;color:#d4a35a;margin-left:%?10?%}.pay-btn[data-v-197903b3]{min-width:%?240?%;height:%?80?%;background:linear-gradient(135deg,#d4a35a,#be8a3d);color:#fff;display:flex;align-items:center;justify-content:center;border-radius:%?40?%;font-size:%?30?%;font-weight:500;letter-spacing:%?2?%;box-shadow:0 %?6?% %?12?% rgba(212,163,90,.2);transition:all .3s cubic-bezier(.25,.46,.45,.94);position:relative;overflow:hidden}.pay-btn[data-v-197903b3]:active{-webkit-transform:scale(.96) translateY(%?3?%);transform:scale(.96) translateY(%?3?%);box-shadow:0 %?3?% %?6?% rgba(212,163,90,.15)}.pay-btn[data-v-197903b3]::after{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:hsla(0,0%,100%,.1);-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:btnShine-data-v-197903b3 3s infinite;animation:btnShine-data-v-197903b3 3s infinite}@-webkit-keyframes btnShine-data-v-197903b3{0%{-webkit-transform:rotate(45deg) translateX(-100%);transform:rotate(45deg) translateX(-100%)}100%{-webkit-transform:rotate(45deg) translateX(100%);transform:rotate(45deg) translateX(100%)}}@keyframes btnShine-data-v-197903b3{0%{-webkit-transform:rotate(45deg) translateX(-100%);transform:rotate(45deg) translateX(-100%)}100%{-webkit-transform:rotate(45deg) translateX(100%);transform:rotate(45deg) translateX(100%)}}',""]),t.exports=a},ddca:function(t,a,e){"use strict";e("6a54"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("c223");var i={data:function(){return{order:null,orderId:"",countdown:{hours:"00",minutes:"30",seconds:"00"},timer:null,selectedPayment:"wxpay",showOrderDetails:!1,paymentMethods:[{id:"wxpay",name:"微信支付",desc:"推荐使用微信支付",icon:"fab fa-weixin",iconClass:"wx-icon"},{id:"alipay",name:"支付宝",desc:"支付宝安全支付",icon:"fab fa-alipay",iconClass:"ali-icon"},{id:"unionpay",name:"银联支付",desc:"银联云闪付",icon:"fa fa-credit-card",iconClass:"union-icon"}]}},methods:{goBack:function(){uni.navigateBack()},selectPayment:function(t){this.selectedPayment=t},toggleOrderDetails:function(){this.showOrderDetails=!this.showOrderDetails},startCountdown:function(){var t=this,a=1800;this.timer=setInterval((function(){if(a--,a<=0)return clearInterval(t.timer),void uni.showModal({title:"订单已超时",content:"支付已超时，订单已自动取消",showCancel:!1,success:function(t){t.confirm&&uni.navigateBack()}});var e=Math.floor(a/3600),i=Math.floor(a%3600/60),n=a%60;t.countdown.hours=e<10?"0"+e:""+e,t.countdown.minutes=i<10?"0"+i:""+i,t.countdown.seconds=n<10?"0"+n:""+n}),1e3)},confirmPayment:function(){var t=this,a={wxpay:"微信支付",alipay:"支付宝",unionpay:"银联支付"};uni.showLoading({title:"处理中..."}),setTimeout((function(){uni.hideLoading(),uni.showModal({title:"支付确认",content:"您将使用".concat(a[t.selectedPayment],"支付¥").concat(t.order.totalPrice,"，是否确认？"),success:function(a){a.confirm&&t.simulatePayment()}})}),800)},simulatePayment:function(){var t=this;uni.showLoading({title:"支付处理中..."}),setTimeout((function(){uni.hideLoading(),uni.showToast({title:"支付成功",icon:"success",duration:2e3}),setTimeout((function(){uni.redirectTo({url:"/pages/orders/success?orderId="+t.orderId})}),1500)}),1500)},fetchOrderDetails:function(){var t={id:this.orderId,orderNo:"WN2025041400001",status:"pending",title:"拉菲珍藏波尔多红葡萄酒",subtitle:"法国 | 750ml | 13.5%vol",price:"368",quantity:2,shippingFee:"0",discount:"0",totalPrice:"736",createTime:"2025-04-14 12:30:45",image:"https://images.unsplash.com/photo-1609951651556-5334e2706168?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"};this.order=t}},onLoad:function(t){this.orderId=t.orderId||"ORD001",this.fetchOrderDetails(),this.startCountdown()},onUnload:function(){this.timer&&clearInterval(this.timer)}};a.default=i}}]);