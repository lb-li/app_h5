(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-coupon-coupon"],{"1df9":function(t,a,e){"use strict";e.r(a);var i=e("dbfe"),o=e("98a8");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return o[t]}))}(n);e("9c2f");var s=e("828b"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"4f853058",null,!1,i["a"],void 0);a["default"]=c.exports},8855:function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.coupon-container[data-v-4f853058]{background-color:#f8f8f8;min-height:100vh;padding-bottom:%?30?%}.content-area[data-v-4f853058]{padding-top:calc(0px + %?120?%);position:relative;z-index:1}.tab-container[data-v-4f853058]{display:flex;background-color:#fff;border-bottom:%?1?% solid #f0f0f0;margin-top:%?30?%;-webkit-transform:translateY(%?20?%);transform:translateY(%?20?%);opacity:0;transition:all .3s ease;position:fixed;top:calc(0px + %?110?%);left:0;right:0;z-index:90}.tab-container.show[data-v-4f853058]{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}.tab-container .tab-item[data-v-4f853058]{flex:1;height:%?88?%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:%?28?%;color:#666;position:relative;transition:all .3s ease}.tab-container .tab-item.active[data-v-4f853058]{color:#d4a35a;font-weight:600}.tab-container .tab-item.tab-active-animation[data-v-4f853058]{-webkit-animation:tabActive-data-v-4f853058 .3s ease;animation:tabActive-data-v-4f853058 .3s ease}.tab-container .tab-item .tab-line[data-v-4f853058]{position:absolute;bottom:0;width:%?40?%;height:%?4?%;background-color:#d4a35a;border-radius:%?2?%;-webkit-animation:slideIn-data-v-4f853058 .3s ease;animation:slideIn-data-v-4f853058 .3s ease}.coupon-swiper[data-v-4f853058]{width:100%;height:85vh!important;transition:height .3s ease;margin-top:%?88?%}.coupon-scroll[data-v-4f853058]{width:100%;height:100%}.coupon-list[data-v-4f853058]{padding:%?30?%;padding-bottom:%?120?%}.coupon-item[data-v-4f853058]{position:relative;display:flex;margin-bottom:%?30?%;border-radius:%?16?%;background-color:#fff;box-shadow:0 %?4?% %?16?% rgba(0,0,0,.05);overflow:hidden;-webkit-transform:translateY(%?20?%);transform:translateY(%?20?%);opacity:0;transition:all .3s ease}.coupon-item.show[data-v-4f853058]{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}.coupon-item[data-v-4f853058]:active{-webkit-transform:scale(.98);transform:scale(.98);transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.coupon-item.available .coupon-left[data-v-4f853058]{background:linear-gradient(135deg,#d4a35a,#ba8c44)}.coupon-item.used[data-v-4f853058]{opacity:.8}.coupon-item.used .coupon-left[data-v-4f853058]{background:linear-gradient(135deg,#a0a0a0,grey)}.coupon-item.expired[data-v-4f853058]{opacity:.7}.coupon-item.expired .coupon-left[data-v-4f853058]{background:linear-gradient(135deg,#b0b0b0,#909090)}.coupon-item .coupon-overlay[data-v-4f853058]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5);display:flex;align-items:center;justify-content:center;pointer-events:none}.coupon-item .coupon-overlay .overlay-text[data-v-4f853058]{font-size:%?64?%;color:rgba(0,0,0,.2);font-weight:700;-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}.coupon-left[data-v-4f853058]{width:%?200?%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:%?30?% 0;color:#fff}.coupon-left .coupon-value[data-v-4f853058]{display:flex;align-items:baseline}.coupon-left .coupon-value .currency[data-v-4f853058]{font-size:%?32?%;font-weight:500}.coupon-left .coupon-value .amount[data-v-4f853058]{font-size:%?64?%;font-weight:700;line-height:1}.coupon-left .coupon-threshold[data-v-4f853058]{font-size:%?22?%;margin-top:%?8?%;opacity:.9}.coupon-divider[data-v-4f853058]{position:relative;width:0;border-left:%?1?% dashed #e0e0e0;margin:%?20?% 0}.coupon-divider .circle[data-v-4f853058]{position:absolute;width:%?20?%;height:%?20?%;background-color:#f8f8f8;border-radius:50%;left:%?-10?%}.coupon-divider .circle.top[data-v-4f853058]{top:%?-10?%}.coupon-divider .circle.bottom[data-v-4f853058]{bottom:%?-10?%}.coupon-divider .dashed-line[data-v-4f853058]{position:absolute;top:0;bottom:0;left:%?-1?%;border-left:%?1?% dashed #e0e0e0}.coupon-right[data-v-4f853058]{flex:1;padding:%?30?% %?20?% %?30?% %?20?%}.coupon-right .coupon-name[data-v-4f853058]{font-size:%?30?%;font-weight:600;color:#333;margin-bottom:%?8?%}.coupon-right .coupon-scope[data-v-4f853058]{font-size:%?24?%;color:#666;margin-bottom:%?8?%}.coupon-right .coupon-date[data-v-4f853058]{font-size:%?22?%;color:#999;margin-bottom:%?16?%}.coupon-right .use-btn[data-v-4f853058]{width:%?160?%;height:%?60?%;background:linear-gradient(135deg,#d4a35a,#ba8c44);border-radius:%?30?%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:%?24?%;font-weight:500;box-shadow:0 %?4?% %?8?% rgba(212,163,90,.3);transition:all .2s ease}.coupon-right .use-btn[data-v-4f853058]:active{-webkit-transform:scale(.96);transform:scale(.96)}.coupon-right .use-info[data-v-4f853058]{font-size:%?22?%;color:#999}.coupon-decoration[data-v-4f853058]{position:absolute;top:0;right:0;width:%?100?%;height:%?100?%;overflow:hidden;pointer-events:none}.coupon-decoration .decoration-text[data-v-4f853058]{position:absolute;top:%?14?%;right:%?-30?%;background-color:#d4a35a;color:#fff;font-size:%?20?%;font-weight:500;padding:%?4?% %?30?%;-webkit-transform:rotate(45deg);transform:rotate(45deg);box-shadow:0 %?2?% %?4?% rgba(0,0,0,.1)}.empty-coupon[data-v-4f853058]{display:flex;flex-direction:column;align-items:center;padding:%?60?% 0}.empty-coupon .empty-img[data-v-4f853058]{width:%?200?%;height:%?200?%;margin-bottom:%?20?%}.empty-coupon .empty-text[data-v-4f853058]{font-size:%?28?%;color:#999;margin-bottom:%?30?%}.empty-coupon .get-coupon-btn[data-v-4f853058]{width:%?240?%;height:%?80?%;background:linear-gradient(135deg,#d4a35a,#ba8c44);border-radius:%?40?%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:%?28?%;font-weight:500;box-shadow:0 %?4?% %?12?% rgba(212,163,90,.3);transition:all .2s ease}.empty-coupon .get-coupon-btn[data-v-4f853058]:active{-webkit-transform:scale(.96);transform:scale(.96)}@-webkit-keyframes slideIn-data-v-4f853058{from{width:0;opacity:0}to{width:%?40?%;opacity:1}}@keyframes slideIn-data-v-4f853058{from{width:0;opacity:0}to{width:%?40?%;opacity:1}}@-webkit-keyframes tabActive-data-v-4f853058{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes tabActive-data-v-4f853058{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);transform:scale(1)}}',""]),t.exports=a},"98a8":function(t,a,e){"use strict";e.r(a);var i=e("f583"),o=e.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(n);a["default"]=o.a},"9c2f":function(t,a,e){"use strict";var i=e("b1bf"),o=e.n(i);o.a},b1bf:function(t,a,e){var i=e("8855");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("967d").default;o("e0512da6",i,!0,{sourceMap:!1,shadowMode:!1})},dbfe:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"coupon-container"},[e("header-bar",{attrs:{title:"我的优惠券",showBack:!0,showMsg:!1}}),e("v-uni-view",{staticClass:"content-area"},[e("v-uni-view",{staticClass:"tab-container"},t._l(t.tabs,(function(a,i){return e("v-uni-view",{key:i,staticClass:"tab-item",class:{active:t.currentTab===i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.changeTab(i)}}},[e("v-uni-text",[t._v(t._s(a))]),t.currentTab===i?e("v-uni-view",{staticClass:"tab-line"}):t._e()],1)})),1),e("v-uni-swiper",{staticClass:"coupon-swiper",style:{height:t.swiperHeight+"px"},attrs:{current:t.currentTab},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.swiperChange.apply(void 0,arguments)}}},[e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"coupon-scroll",attrs:{"scroll-y":"true"},on:{scroll:function(a){arguments[0]=a=t.$handleEvent(a),t.updateSwiperHeight.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"coupon-list"},[t._l(t.availableCoupons,(function(a,i){return e("v-uni-view",{key:i,staticClass:"coupon-item available",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.viewCouponDetail(a)}}},[e("v-uni-view",{staticClass:"coupon-left"},[e("v-uni-view",{staticClass:"coupon-value"},[e("v-uni-text",{staticClass:"currency"},[t._v("¥")]),e("v-uni-text",{staticClass:"amount"},[t._v(t._s(a.amount))])],1),e("v-uni-view",{staticClass:"coupon-threshold"},[t._v("满"+t._s(a.threshold)+"元可用")])],1),e("v-uni-view",{staticClass:"coupon-divider"},[e("v-uni-view",{staticClass:"circle top"}),e("v-uni-view",{staticClass:"dashed-line"}),e("v-uni-view",{staticClass:"circle bottom"})],1),e("v-uni-view",{staticClass:"coupon-right"},[e("v-uni-view",{staticClass:"coupon-name"},[t._v(t._s(a.name))]),e("v-uni-view",{staticClass:"coupon-scope"},[t._v(t._s(a.scope))]),e("v-uni-view",{staticClass:"coupon-date"},[t._v(t._s(a.validDate))]),e("v-uni-view",{staticClass:"use-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.useCoupon(a)}}},[e("v-uni-text",[t._v("立即使用")])],1)],1),e("v-uni-view",{staticClass:"coupon-decoration"},[a.isNew?e("v-uni-text",{staticClass:"decoration-text"},[t._v("新人券")]):a.isSpecial?e("v-uni-text",{staticClass:"decoration-text"},[t._v("特惠")]):t._e()],1)],1)})),0===t.availableCoupons.length?e("v-uni-view",{staticClass:"empty-coupon"},[e("v-uni-image",{staticClass:"empty-img",attrs:{src:"/static/images/empty-coupon.png",mode:"aspectFit"}}),e("v-uni-text",{staticClass:"empty-text"},[t._v("暂无可用优惠券")]),e("v-uni-view",{staticClass:"get-coupon-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navigateToGetCoupon.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("去领取优惠券")])],1)],1):t._e()],2)],1)],1),e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"coupon-scroll",attrs:{"scroll-y":"true"},on:{scroll:function(a){arguments[0]=a=t.$handleEvent(a),t.updateSwiperHeight.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"coupon-list"},[t._l(t.usedCoupons,(function(a,i){return e("v-uni-view",{key:i,staticClass:"coupon-item used"},[e("v-uni-view",{staticClass:"coupon-overlay"},[e("v-uni-text",{staticClass:"overlay-text"},[t._v("已使用")])],1),e("v-uni-view",{staticClass:"coupon-left"},[e("v-uni-view",{staticClass:"coupon-value"},[e("v-uni-text",{staticClass:"currency"},[t._v("¥")]),e("v-uni-text",{staticClass:"amount"},[t._v(t._s(a.amount))])],1),e("v-uni-view",{staticClass:"coupon-threshold"},[t._v("满"+t._s(a.threshold)+"元可用")])],1),e("v-uni-view",{staticClass:"coupon-divider"},[e("v-uni-view",{staticClass:"circle top"}),e("v-uni-view",{staticClass:"dashed-line"}),e("v-uni-view",{staticClass:"circle bottom"})],1),e("v-uni-view",{staticClass:"coupon-right"},[e("v-uni-view",{staticClass:"coupon-name"},[t._v(t._s(a.name))]),e("v-uni-view",{staticClass:"coupon-scope"},[t._v(t._s(a.scope))]),e("v-uni-view",{staticClass:"coupon-date"},[t._v(t._s(a.validDate))]),e("v-uni-view",{staticClass:"use-info"},[e("v-uni-text",[t._v("使用订单: "+t._s(a.orderNo))])],1)],1)],1)})),0===t.usedCoupons.length?e("v-uni-view",{staticClass:"empty-coupon"},[e("v-uni-image",{staticClass:"empty-img",attrs:{src:"/static/images/empty-used.png",mode:"aspectFit"}}),e("v-uni-text",{staticClass:"empty-text"},[t._v("暂无已使用优惠券")])],1):t._e()],2)],1)],1),e("v-uni-swiper-item",[e("v-uni-scroll-view",{staticClass:"coupon-scroll",attrs:{"scroll-y":"true"},on:{scroll:function(a){arguments[0]=a=t.$handleEvent(a),t.updateSwiperHeight.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"coupon-list"},[t._l(t.expiredCoupons,(function(a,i){return e("v-uni-view",{key:i,staticClass:"coupon-item expired"},[e("v-uni-view",{staticClass:"coupon-overlay"},[e("v-uni-text",{staticClass:"overlay-text"},[t._v("已过期")])],1),e("v-uni-view",{staticClass:"coupon-left"},[e("v-uni-view",{staticClass:"coupon-value"},[e("v-uni-text",{staticClass:"currency"},[t._v("¥")]),e("v-uni-text",{staticClass:"amount"},[t._v(t._s(a.amount))])],1),e("v-uni-view",{staticClass:"coupon-threshold"},[t._v("满"+t._s(a.threshold)+"元可用")])],1),e("v-uni-view",{staticClass:"coupon-divider"},[e("v-uni-view",{staticClass:"circle top"}),e("v-uni-view",{staticClass:"dashed-line"}),e("v-uni-view",{staticClass:"circle bottom"})],1),e("v-uni-view",{staticClass:"coupon-right"},[e("v-uni-view",{staticClass:"coupon-name"},[t._v(t._s(a.name))]),e("v-uni-view",{staticClass:"coupon-scope"},[t._v(t._s(a.scope))]),e("v-uni-view",{staticClass:"coupon-date"},[t._v(t._s(a.validDate))])],1)],1)})),0===t.expiredCoupons.length?e("v-uni-view",{staticClass:"empty-coupon"},[e("v-uni-image",{staticClass:"empty-img",attrs:{src:"/static/images/empty-expired.png",mode:"aspectFit"}}),e("v-uni-text",{staticClass:"empty-text"},[t._v("暂无已过期优惠券")])],1):t._e()],2)],1)],1)],1),e("premium-toast",{ref:"toast"})],1)],1)},o=[]},f583:function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("bf0f"),e("2797"),e("5c47"),e("c223");var o=i(e("9a07")),n=i(e("c09b")),s={components:{PremiumToast:o.default,HeaderBar:n.default},data:function(){return{tabs:["可使用","已使用","已过期"],currentTab:0,swiperHeight:500,availableCoupons:[{id:1,name:"品鉴会专用券",amount:50,threshold:300,scope:"仅限品鉴会活动使用",validDate:"2025-05-20 到期",isNew:!0,isSpecial:!1},{id:2,name:"红酒专享券",amount:100,threshold:500,scope:"限红酒品类使用",validDate:"2025-05-15 到期",isNew:!1,isSpecial:!0},{id:3,name:"会员专享券",amount:30,threshold:200,scope:"全场通用",validDate:"2025-06-01 到期",isNew:!1,isSpecial:!1},{id:4,name:"满减优惠券",amount:80,threshold:400,scope:"限葡萄酒使用",validDate:"2025-05-25 到期",isNew:!1,isSpecial:!1}],usedCoupons:[{id:5,name:"新人优惠券",amount:20,threshold:100,scope:"全场通用",validDate:"已使用",orderNo:"W20250410001"}],expiredCoupons:[{id:6,name:"限时特惠券",amount:10,threshold:80,scope:"全场通用",validDate:"2025-04-01 已过期"}]}},onReady:function(){setTimeout((function(){var t=document.querySelector(".tab-container");t&&t.classList.add("show");var a=document.querySelector(".coupon-list");if(a){var e=a.querySelectorAll(".coupon-item");e.forEach((function(t,a){setTimeout((function(){t.classList.add("show")}),100*a)}))}}),100)},methods:{showHelp:function(){uni.showModal({title:"优惠券使用说明",content:"1. 优惠券仅限在有效期内使用\n2. 部分优惠券仅限特定商品使用\n3. 每个订单仅限使用一张优惠券",showCancel:!1,confirmText:"我知道了",confirmColor:"#d4a35a"})},changeTab:function(t){this.currentTab=t;var a=document.querySelectorAll(".tab-item");a[t].classList.add("tab-active-animation"),setTimeout((function(){a[t].classList.remove("tab-active-animation")}),300)},swiperChange:function(t){this.currentTab=t.detail.current},updateSwiperHeight:function(){var t=this,a=uni.createSelectorQuery().in(this);a.select(".coupon-list").boundingClientRect((function(a){a&&(t.swiperHeight=a.height+20)})).exec()},viewCouponDetail:function(t){uni.showModal({title:"优惠券详情",content:"".concat(t.name,"\n面值: ¥").concat(t.amount,"\n使用条件: 满").concat(t.threshold,"元可用\n适用范围: ").concat(t.scope,"\n有效期至: ").concat(t.validDate),showCancel:!1,confirmText:"确定",confirmColor:"#d4a35a"})},useCoupon:function(t){var a=this;uni.navigateTo({url:"/pages/product/list?couponId=".concat(t.id),animationType:"slide-in-right",animationDuration:300,success:function(){a.$refs.toast.success("已选择优惠券，请选择商品")}})},navigateToGetCoupon:function(){uni.navigateTo({url:"/pages/promotion/coupon-center",animationType:"slide-in-bottom",animationDuration:300})}}};a.default=s}}]);