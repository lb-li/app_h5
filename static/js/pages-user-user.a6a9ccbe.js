(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-user"],{"0650":function(t,e,a){"use strict";var i=a("071b"),n=a.n(i);n.a},"071b":function(t,e,a){var i=a("a864");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("75856d83",i,!0,{sourceMap:!1,shadowMode:!1})},"106a":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9b1b")),s=i(a("455b")),o=i(a("c09b")),r={components:{TabBar:s.default,HeaderBar:o.default},data:function(){return{isLoggedIn:!1,orderMenuItems:[{name:"待付款",icon:"fas fa-wallet",count:2,type:"pending-payment"},{name:"待发货",icon:"fas fa-box",count:1,type:"pending-ship"},{name:"待收货",icon:"fas fa-truck",count:0,type:"pending-receive"},{name:"待评价",icon:"fas fa-comment-alt",count:0,type:"pending-review"},{name:"退款/售后",icon:"fas fa-undo-alt",count:0,type:"refund"}],menuItems1:[{name:"我的收藏",icon:"fas fa-heart",type:"favorite"},{name:"收货地址",icon:"fas fa-map-marker-alt",type:"address"},{name:"优惠券",icon:"fas fa-ticket-alt",type:"coupon"},{name:"品鉴活动",icon:"fas fa-wine-glass-alt",type:"tasting",tag:"新活动"}],menuItems2:[{name:"客户服务",icon:"fas fa-headset",type:"service"},{name:"设置",icon:"fas fa-cog",type:"settings"}]}},methods:{login:function(){this.isLoggedIn||(this.isLoggedIn=!0,uni.showToast({title:"登录成功",icon:"success"}))},logout:function(){this.isLoggedIn=!1,uni.showToast({title:"已退出登录",icon:"none"})},viewAllOrders:function(){this.isLoggedIn?uni.navigateTo({url:"/pages/orders/orders"}):this.promptLogin()},navigateToOrder:function(t){if(this.isLoggedIn){var e={animationType:"slide-in-right",animationDuration:300};switch(t){case"pending-payment":uni.navigateTo((0,n.default)({url:"/pages/orders/pending"},e));break;case"pending-ship":uni.navigateTo((0,n.default)({url:"/pages/orders/shipped"},e));break;case"pending-receive":uni.navigateTo((0,n.default)({url:"/pages/orders/received"},e));break;case"pending-review":uni.navigateTo((0,n.default)({url:"/pages/orders/review"},e));break;case"refund":uni.navigateTo((0,n.default)({url:"/pages/orders/refund"},e));break;default:uni.navigateTo({url:"/pages/orders/orders?type=".concat(t)})}uni.vibrateShort({success:function(){console.log("触感反馈成功")}})}else this.promptLogin()},handleMenuClick:function(t){if(this.isLoggedIn)switch(t){case"favorite":uni.navigateTo({url:"/pages/user/favorite/favorite"});break;case"address":uni.navigateTo({url:"/pages/user/address"});break;case"coupon":uni.navigateTo({url:"/pages/coupon/coupon"});break;case"tasting":uni.navigateTo({url:"/pages/tasting/tasting"});break;case"service":uni.navigateTo({url:"/pages/service/service"});break;case"settings":uni.navigateTo({url:"/pages/settings/settings"});break}else this.promptLogin()},promptLogin:function(){var t=this;uni.showModal({title:"提示",content:"请先登录后再操作",confirmText:"去登录",success:function(e){e.confirm&&t.login()}})}}};e.default=r},"4bfe":function(t,e,a){"use strict";a.r(e);var i=a("50a4"),n=a("ab41");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("0650");var o=a("828b"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"63352f05",null,!1,i["a"],void 0);e["default"]=r.exports},"50a4":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"header fixed-top"},[a("v-uni-view",{staticClass:"profile-header"},[t.isLoggedIn?[a("v-uni-view",{staticClass:"flex items-center"},[a("v-uni-view",{staticClass:"avatar mr-4"},[a("v-uni-image",{staticClass:"w-full h-full object-cover",attrs:{src:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80"}})],1),a("v-uni-view",{staticClass:"flex-1"},[a("v-uni-view",{staticClass:"text-lg font-medium mb-1"},[t._v("张先生")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("会员等级：铂金会员")])],1),a("v-uni-view",[a("v-uni-text",{staticClass:"fas fa-qrcode text-xl"})],1)],1),a("v-uni-view",{staticClass:"flex justify-between mt-6"},[a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"text-lg font-medium"},[t._v("258")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("积分")])],1),a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"text-lg font-medium"},[t._v("12")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("优惠券")])],1),a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"text-lg font-medium"},[t._v("36")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("收藏")])],1),a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"text-lg font-medium"},[t._v("8")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("关注")])],1)],1)]:[a("v-uni-view",{staticClass:"flex items-center"},[a("v-uni-view",{staticClass:"avatar mr-4"},[a("v-uni-image",{staticClass:"w-full h-full object-cover",attrs:{src:"/static/images/default-avatar.png"}})],1),a("v-uni-view",{staticClass:"flex-1"},[a("v-uni-view",{staticClass:"text-lg font-medium mb-1"},[t._v("您尚未登录")]),a("v-uni-view",{staticClass:"text-sm opacity-80"},[t._v("登录后获取更多权益")])],1)],1),a("v-uni-button",{staticClass:"login-btn mt-6",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("立即登录/注册")])]],2),a("v-uni-view",{staticClass:"order-section mt-2"},[a("v-uni-view",{staticClass:"flex justify-between items-center"},[a("v-uni-text",{staticClass:"font-medium"},[t._v("我的订单")]),a("v-uni-view",{staticClass:"flex items-center text-sm text-gray-500",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.viewAllOrders.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("查看全部订单")]),a("v-uni-text",{staticClass:"fas fa-chevron-right ml-1 text-xs"})],1)],1),a("v-uni-view",{staticClass:"order-menu"},t._l(t.orderMenuItems,(function(e,i){return a("v-uni-view",{key:i,staticClass:"order-menu-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navigateToOrder(e.type)}}},[a("v-uni-view",{staticClass:"order-icon"},[a("v-uni-text",{class:e.icon}),t.isLoggedIn&&e.count?a("v-uni-view",{staticClass:"badge"},[t._v(t._s(e.count))]):t._e()],1),a("v-uni-text",{staticClass:"text-xs"},[t._v(t._s(e.name))])],1)})),1)],1),a("v-uni-view",{staticClass:"mt-2"},t._l(t.menuItems1,(function(e,i){return a("v-uni-view",{key:i,staticClass:"menu-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleMenuClick(e.type)}}},[a("v-uni-view",{staticClass:"menu-icon"},[a("v-uni-text",{class:e.icon})],1),a("v-uni-view",{staticClass:"flex-1"},[t._v(t._s(e.name))]),e.tag?a("v-uni-text",{staticClass:"text-xs text-red-600 mr-2"},[t._v(t._s(e.tag))]):t._e(),a("v-uni-text",{staticClass:"fas fa-chevron-right text-gray-300"})],1)})),1),a("v-uni-view",{staticClass:"mt-2"},t._l(t.menuItems2,(function(e,i){return a("v-uni-view",{key:i,staticClass:"menu-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleMenuClick(e.type)}}},[a("v-uni-view",{staticClass:"menu-icon"},[a("v-uni-text",{class:e.icon})],1),a("v-uni-view",{staticClass:"flex-1"},[t._v(t._s(e.name))]),a("v-uni-text",{staticClass:"fas fa-chevron-right text-gray-300"})],1)})),1),t.isLoggedIn?t._e():a("v-uni-view",{staticClass:"bottom-login-container"},[a("v-uni-button",{staticClass:"bottom-login-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("立即登录，体验更多功能")])],1),a("tab-bar",{attrs:{current:3}})],1)},n=[]},a864:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".profile-header[data-v-63352f05]{background-color:#8b0000;padding:24px 16px;color:#fff;margin-top:0; /* 移除header-bar的间距 */padding-top:calc(0px + 50px) /* 添加状态栏安全距离 */}.fixed-top[data-v-63352f05]{position:fixed;top:0;left:0;right:0;z-index:100}.avatar[data-v-63352f05]{width:64px;height:64px;border-radius:32px;overflow:hidden;background-color:#fff;border:2px solid hsla(0,0%,100%,.3)}.login-btn[data-v-63352f05]{background-color:#fff;color:#8b0000;border-radius:20px;font-size:14px;font-weight:500;padding:10px 0;width:100%;border:none}.bottom-login-container[data-v-63352f05]{position:fixed;bottom:%?100?%;left:0;right:0;padding:20px;z-index:10}.bottom-login-btn[data-v-63352f05]{background-color:#8b0000;color:#fff;border-radius:20px;font-size:14px;font-weight:500;padding:12px 0;width:100%;border:none;box-shadow:0 2px 8px rgba(139,0,0,.2)}.menu-item[data-v-63352f05]{padding:16px;display:flex;align-items:center;background-color:#fff;border-bottom:1px solid #f5f5f5}.menu-icon[data-v-63352f05]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:12px;color:#8b0000}.order-section[data-v-63352f05]{background-color:#fff;padding:16px;margin-bottom:8px}.order-menu[data-v-63352f05]{display:flex;justify-content:space-between;padding-top:16px}.order-menu-item[data-v-63352f05]{display:flex;flex-direction:column;align-items:center;width:20%}.order-icon[data-v-63352f05]{position:relative;font-size:22px;color:#8b0000;margin-bottom:6px}.badge[data-v-63352f05]{position:absolute;top:-5px;right:-10px;background-color:#ff4d4f;color:#fff;font-size:10px;width:16px;height:16px;border-radius:8px;display:flex;align-items:center;justify-content:center}\n\n/* 适配不同设备的状态栏高度 */@supports (--top-distance:env(safe-area-inset-top)){.profile-header[data-v-63352f05]{margin-top:calc(0 + env(safe-area-inset-top))}}\n\n/* 修复iOS设备上的特殊问题 */@supports (-webkit-overflow-scrolling:touch){.profile-header[data-v-63352f05]{margin-top:calc(0 + 20px) /* 为iOS设备的状态栏增加额外空间 */}}\n\n/* 确保header-bar在最上层 */.header-bar[data-v-63352f05]{z-index:100}\n\n/* 确保整个内容区域不被header-bar遮挡 */.header.fixed-top > uni-view[data-v-63352f05]:not(.header-bar){margin-top:0}\n\n/* 辅助工具类 */.flex[data-v-63352f05]{display:flex}.flex-1[data-v-63352f05]{flex:1}.items-center[data-v-63352f05]{align-items:center}.justify-between[data-v-63352f05]{justify-content:space-between}.text-center[data-v-63352f05]{text-align:center}.text-lg[data-v-63352f05]{font-size:18px}.text-sm[data-v-63352f05]{font-size:14px}.text-xs[data-v-63352f05]{font-size:12px}.text-xl[data-v-63352f05]{font-size:20px}.font-medium[data-v-63352f05]{font-weight:500}.opacity-80[data-v-63352f05]{opacity:.8}.mr-4[data-v-63352f05]{margin-right:16px}.mb-1[data-v-63352f05]{margin-bottom:4px}.mt-6[data-v-63352f05]{margin-top:24px}.mt-2[data-v-63352f05]{margin-top:8px}.ml-1[data-v-63352f05]{margin-left:4px}.mr-2[data-v-63352f05]{margin-right:8px}.w-full[data-v-63352f05]{width:100%}.h-full[data-v-63352f05]{height:100%}.object-cover[data-v-63352f05]{object-fit:cover}.bg-gray-100[data-v-63352f05]{background-color:#f5f5f5}.text-gray-500[data-v-63352f05]{color:#6b7280}.text-gray-300[data-v-63352f05]{color:#d1d5db}.text-red-600[data-v-63352f05]{color:#dc2626}.container[data-v-63352f05]{min-height:100vh;padding-bottom:%?100?%}",""]),t.exports=e},ab41:function(t,e,a){"use strict";a.r(e);var i=a("106a"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a}}]);