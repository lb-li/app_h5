(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cart-cart"],{"11a8":function(t,n,e){"use strict";e.r(n);var a=e("1d1d"),i=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);n["default"]=i.a},"1d1d":function(t,n,e){"use strict";e("6a54");var a=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("bf0f"),e("2797"),e("c223"),e("e838"),e("8f71"),e("dd2b");var i=a(e("c09b")),o=a(e("455b")),c={components:{TabBar:o.default,HeaderBar:i.default},data:function(){return{showDeleteModal:!1,isManaging:!1,allSelected:!0,totalPrice:"1,458",totalDiscount:"80",selectedCount:4,selectedItems:[],cartGroups:[{name:"法国精品酒庄自营店",promotion:"满499减50",checked:!0,items:[{id:"1",title:"法国拉菲罗斯柴尔德珍藏波尔多干红葡萄酒",desc:"法国 | 750ml | 13.5%vol",price:"599",quantity:1,checked:!0,image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80"},{id:"2",title:"智利魔爵珍藏赤霞珠干红葡萄酒",desc:"智利 | 750ml | 14%vol",price:"299",quantity:2,checked:!0,image:"https://images.unsplash.com/photo-1584916304341-8a49a3e98cc6?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80"}]},{name:"意大利酒品专营店",promotion:"满299减30",checked:!0,items:[{id:"3",title:"意大利普莱塔酒庄经典基安蒂DOCG干红葡萄酒",desc:"意大利 | 750ml | 12.5%vol",price:"269",quantity:1,checked:!0,image:"https://images.unsplash.com/photo-1566452348683-96a8a1319ccd?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80"}]}],recommendProducts:[{title:"西班牙桃乐丝小红帽红葡萄酒",price:"128",image:"https://images.unsplash.com/photo-1566452348683-96a8a1319ccd?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"},{title:"法国拉菲传奇波尔多干红葡萄酒",price:"199",image:"https://images.unsplash.com/photo-1549873916-b1bb7dc758c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"}]}},computed:{cartItems:function(){var t=[];return this.cartGroups.forEach((function(n){t=t.concat(n.items)})),t}},methods:{toggleManage:function(){this.isManaging=!this.isManaging},decreaseQuantity:function(t,n){var e=this.cartGroups[t].items[n];e.quantity>1&&(e.quantity--,this.updateTotals())},increaseQuantity:function(t,n){this.cartGroups[t].items[n].quantity++,this.updateTotals()},updateGroupSelection:function(t){var n=this.cartGroups[t].checked;this.cartGroups[t].items.forEach((function(t){t.checked=n})),this.checkAllSelected(),this.updateTotals()},updateItemSelection:function(t,n){var e=this.cartGroups[t].items.every((function(t){return t.checked}));this.cartGroups[t].checked=e,this.checkAllSelected(),this.updateTotals()},selectAllItems:function(){var t=this;this.cartGroups.forEach((function(n){n.checked=t.allSelected,n.items.forEach((function(n){n.checked=t.allSelected}))})),this.updateTotals()},checkAllSelected:function(){var t=this.cartGroups.every((function(t){return t.checked}));this.allSelected=t},updateTotals:function(){var t=0,n=0;this.cartGroups.forEach((function(e){e.items.forEach((function(e){e.checked&&(t+=e.quantity,n+=e.quantity*parseFloat(e.price))}))})),this.selectedCount=t,this.totalPrice=n.toLocaleString(),this.totalDiscount="80"},showDeleteConfirm:function(){this.showDeleteModal=!0},closeDeleteModal:function(){this.showDeleteModal=!1},confirmDelete:function(){var t=this;this.cartGroups.forEach((function(n,e){n.items=n.items.filter((function(t){return!t.checked})),0===n.items.length&&t.cartGroups.splice(e,1)})),this.closeDeleteModal(),this.updateTotals()},addToCart:function(t){uni.showToast({title:"已添加到购物车",icon:"success"})},goShopping:function(){uni.switchTab({url:"/pages/index/index"})},checkout:function(){uni.navigateTo({url:"/pages/checkout/checkout"})}},onLoad:function(){this.updateTotals()}};n.default=c},"33c9":function(t,n,e){var a=e("c86c");n=a(!1),n.push([t.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 自定义字体 */.font-serif[data-v-65efb114]{font-family:Playfair Display,serif}.font-elegant[data-v-65efb114]{font-family:Cormorant Garamond,serif}\n/* 购物车页面样式 */.cart-container[data-v-65efb114]{background-color:#f9f9f9;min-height:calc(100vh - 100px);padding-bottom:120px}.cart-header[data-v-65efb114]{background-color:#fff;padding:16px;display:flex;justify-content:space-between;align-items:center;position:-webkit-sticky;position:sticky;top:0;z-index:10;box-shadow:0 1px 3px rgba(0,0,0,.05)}.cart-group[data-v-65efb114]{background-color:#fff;border-radius:12px;margin-bottom:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.05)}.cart-group-header[data-v-65efb114]{padding:12px 16px;display:flex;align-items:center;border-bottom:1px solid #f5f5f5;font-size:13px}.cart-item[data-v-65efb114]{padding:16px;display:flex;align-items:flex-start;border-bottom:1px solid #f5f5f5}.cart-item-image[data-v-65efb114]{width:80px;height:80px;border-radius:8px;overflow:hidden;flex-shrink:0;background-color:#f5f5f5}.cart-item-image uni-image[data-v-65efb114]{width:100%;height:100%;object-fit:cover}.cart-item-info[data-v-65efb114]{flex:1;margin-left:12px;min-width:0}.cart-item-title[data-v-65efb114]{font-size:14px;font-weight:500;color:#333;margin-bottom:4px;line-height:1.4}.cart-item-desc[data-v-65efb114]{font-size:12px;color:#999;margin-bottom:10px}.cart-item-bottom[data-v-65efb114]{display:flex;justify-content:space-between;align-items:center}.cart-item-price[data-v-65efb114]{color:#8b0000;font-weight:600;font-size:16px}\n/* 数量控制器 */.quantity-control[data-v-65efb114]{display:flex;align-items:center;border:1px solid #eee;border-radius:4px;overflow:hidden}.quantity-btn[data-v-65efb114]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background-color:#f9f9f9;color:#666;border:none;transition:all .2s}.quantity-btn[data-v-65efb114]:active{background-color:#eee}.quantity-btn.disabled[data-v-65efb114]{color:#ccc}.quantity-input[data-v-65efb114]{width:40px;height:28px;text-align:center;border:none;border-left:1px solid #eee;border-right:1px solid #eee;background-color:#fff;font-size:14px}\n/* 自定义复选框 */.custom-checkbox[data-v-65efb114]{position:relative;width:20px;height:20px;flex-shrink:0}.custom-checkbox uni-checkbox[data-v-65efb114]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.custom-checkbox uni-label[data-v-65efb114]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;border:1px solid #ddd;border-radius:50%;transition:all .2s}.custom-checkbox uni-checkbox[checked] + uni-label[data-v-65efb114]{background-color:#8b0000;border-color:#8b0000}.custom-checkbox uni-checkbox[checked] + uni-label[data-v-65efb114]:after{content:"\\f00c";font-family:Font Awesome\\ 6 Free;font-weight:900;color:#fff;font-size:11px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\n/* 底部结算栏 */.cart-footer[data-v-65efb114]{position:fixed;bottom:56px;left:0;right:0;background-color:#fff;border-top:1px solid #f0f0f0;z-index:20}.cart-footer-inner[data-v-65efb114]{padding:12px 16px;display:flex;align-items:center}.cart-total[data-v-65efb114]{display:flex;align-items:baseline}.cart-total .price[data-v-65efb114]{color:#8b0000;font-size:18px;font-weight:600;margin-left:4px}.checkout-btn[data-v-65efb114]{background-color:#8b0000;color:#fff;padding:8px 20px;border-radius:20px;font-size:14px;font-weight:500;border:none;box-shadow:0 2px 8px rgba(139,0,0,.2);transition:all .3s}.checkout-btn[data-v-65efb114]:active{-webkit-transform:translateY(1px);transform:translateY(1px);box-shadow:0 1px 4px rgba(139,0,0,.2)}\n/* 推荐商品区域 */.recommend-section[data-v-65efb114]{padding:20px 0;background-color:#fff;margin-top:16px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.recommend-card[data-v-65efb114]{background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px rgba(0,0,0,.05)}.recommend-image[data-v-65efb114]{height:120px;overflow:hidden}.recommend-image uni-image[data-v-65efb114]{width:100%;height:100%;object-fit:cover;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.recommend-card:hover .recommend-image uni-image[data-v-65efb114]{-webkit-transform:scale(1.05);transform:scale(1.05)}.recommend-info[data-v-65efb114]{padding:10px}.recommend-title[data-v-65efb114]{font-size:13px;line-height:1.4;height:36px;overflow:hidden;margin-bottom:8px;color:#333}.recommend-price[data-v-65efb114]{color:#8b0000;font-weight:600;font-size:15px}.recommend-add-btn[data-v-65efb114]{width:24px;height:24px;border-radius:12px;background-color:#8b0000;color:#fff;display:flex;align-items:center;justify-content:center;border:none;font-size:12px}\n/* 删除确认弹窗 */.delete-modal[data-v-65efb114]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:100}.delete-modal-content[data-v-65efb114]{width:80%;max-width:300px;background-color:#fff;border-radius:12px;padding:24px}.delete-modal-content .flex[data-v-65efb114]{display:flex;justify-content:space-between}.cancel-btn[data-v-65efb114],\n.confirm-btn[data-v-65efb114]{flex:1;padding:10px 0;border-radius:20px;font-size:14px;text-align:center}.cancel-btn[data-v-65efb114]{background-color:#f5f5f5;color:#666;margin-right:8px}.confirm-btn[data-v-65efb114]{background-color:#8b0000;color:#fff;margin-left:8px}\n/* 空购物车状态 */.empty-cart[data-v-65efb114]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 0;text-align:center}.empty-cart-icon[data-v-65efb114]{width:80px;height:80px;margin-bottom:16px;opacity:.6}.shopping-btn[data-v-65efb114]{background-color:#8b0000;color:#fff;padding:8px 24px;border-radius:20px;font-size:14px;margin-top:20px;border:none}\n/* 辅助类样式 */.flex-1[data-v-65efb114]{flex:1}.text-center[data-v-65efb114]{text-align:center}.text-sm[data-v-65efb114]{font-size:14px}.text-xs[data-v-65efb114]{font-size:12px}.text-gray-500[data-v-65efb114]{color:#6b7280}.text-red-500[data-v-65efb114]{color:#ef4444}.px-4[data-v-65efb114]{padding-left:16px;padding-right:16px}.py-3[data-v-65efb114]{padding-top:12px;padding-bottom:12px}.mr-3[data-v-65efb114]{margin-right:12px}.mt-8[data-v-65efb114]{margin-top:32px}.mr-1[data-v-65efb114]{margin-right:4px}.ml-1[data-v-65efb114]{margin-left:4px}.mb-3[data-v-65efb114]{margin-bottom:12px}.mb-5[data-v-65efb114]{margin-bottom:20px}.mx-3[data-v-65efb114]{margin-left:12px;margin-right:12px}.grid[data-v-65efb114]{display:grid}.grid-cols-2[data-v-65efb114]{grid-template-columns:repeat(2,1fr)}.gap-3[data-v-65efb114]{gap:12px}.items-center[data-v-65efb114]{align-items:center}.items-end[data-v-65efb114]{align-items:flex-end}.justify-between[data-v-65efb114]{justify-content:space-between}.font-medium[data-v-65efb114]{font-weight:500}\n/* 状态栏样式 */.status-bar[data-v-65efb114]{height:44px;width:100%;background-color:#fff}.status-bar-inner[data-v-65efb114]{display:flex;justify-content:space-between;align-items:center;padding:0 16px;height:100%}',""]),t.exports=n},"6d9c":function(t,n,e){"use strict";var a=e("c0d2"),i=e.n(a);i.a},a69a:function(t,n,e){"use strict";e.r(n);var a=e("fe92"),i=e("11a8");for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("6d9c");var c=e("828b"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"65efb114",null,!1,a["a"],void 0);n["default"]=s.exports},c0d2:function(t,n,e){var a=e("33c9");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("967d").default;i("22d549fe",a,!0,{sourceMap:!1,shadowMode:!1})},fe92:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"header fixed-top"},[e("header-bar",{attrs:{"page-type":"cart",title:"购物车","show-share":!0}}),e("v-uni-view",{staticClass:"cart-header"},[e("v-uni-view",{staticClass:"flex-1 text-center font-medium"},[t._v("购物车")]),e("v-uni-button",{staticClass:"text-sm text-gray-500",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toggleManage.apply(void 0,arguments)}}},[t._v("管理")])],1),e("v-uni-view",{staticClass:"cart-container"},[t.cartItems.length>0?e("v-uni-view",{staticClass:"px-4 py-3"},[t._l(t.cartGroups,(function(n,a){return e("v-uni-view",{key:a,staticClass:"cart-group"},[e("v-uni-view",{staticClass:"cart-group-header"},[e("v-uni-view",{staticClass:"custom-checkbox mr-3"},[e("v-uni-checkbox",{attrs:{id:"store"+a,checked:n.checked,value:"store"+a},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.updateGroupSelection(a)}}}),e("v-uni-label",{attrs:{for:"store"+a}})],1),e("v-uni-view",{staticClass:"flex-1 font-medium"},[t._v(t._s(n.name))]),e("v-uni-view",{staticClass:"text-xs text-red-500"},[e("v-uni-text",{staticClass:"fas fa-tag mr-1"}),e("v-uni-text",[t._v(t._s(n.promotion))])],1)],1),t._l(n.items,(function(n,i){return e("v-uni-view",{key:n.id,staticClass:"cart-item"},[e("v-uni-view",{staticClass:"custom-checkbox mr-3 mt-8"},[e("v-uni-checkbox",{attrs:{id:"item"+n.id,checked:n.checked,value:"item"+n.id},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.updateItemSelection(a,i)}}}),e("v-uni-label",{attrs:{for:"item"+n.id}})],1),e("v-uni-view",{staticClass:"cart-item-image"},[e("v-uni-image",{attrs:{src:n.image,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"cart-item-info"},[e("v-uni-view",{staticClass:"cart-item-title"},[t._v(t._s(n.title))]),e("v-uni-view",{staticClass:"cart-item-desc"},[t._v(t._s(n.desc))]),e("v-uni-view",{staticClass:"cart-item-bottom"},[e("v-uni-view",{staticClass:"cart-item-price"},[t._v("¥"+t._s(n.price))]),e("v-uni-view",{staticClass:"quantity-control"},[e("v-uni-button",{staticClass:"quantity-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.decreaseQuantity(a,i)}}},[e("v-uni-text",{staticClass:"fas fa-minus text-xs"})],1),e("v-uni-input",{staticClass:"quantity-input",attrs:{type:"number",value:n.quantity,min:"1",max:"99",disabled:!0}}),e("v-uni-button",{staticClass:"quantity-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.increaseQuantity(a,i)}}},[e("v-uni-text",{staticClass:"fas fa-plus text-xs"})],1)],1)],1)],1)],1)}))],2)})),e("v-uni-view",{staticClass:"recommend-section"},[e("v-uni-view",{staticClass:"text-base font-medium mb-3 px-4 font-serif"},[t._v("猜你喜欢")]),e("v-uni-view",{staticClass:"grid grid-cols-2 gap-3 px-4"},t._l(t.recommendProducts,(function(n,a){return e("v-uni-view",{key:a,staticClass:"recommend-card"},[e("v-uni-view",{staticClass:"recommend-image"},[e("v-uni-image",{attrs:{src:n.image,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"recommend-info"},[e("v-uni-view",{staticClass:"recommend-title"},[t._v(t._s(n.title))]),e("v-uni-view",{staticClass:"flex justify-between items-end"},[e("v-uni-view",{staticClass:"recommend-price"},[t._v("¥"+t._s(n.price))]),e("v-uni-button",{staticClass:"recommend-add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addToCart(n)}}},[e("v-uni-text",{staticClass:"fas fa-plus"})],1)],1)],1)],1)})),1)],1)],2):t._e(),0===t.cartItems.length?e("v-uni-view",{staticClass:"empty-cart"},[e("v-uni-image",{staticClass:"empty-cart-icon",attrs:{src:"https://img.icons8.com/color/100/000000/empty-cart.png"}}),e("v-uni-view",{staticClass:"text-gray-500 mb-2"},[t._v("购物车还是空的哦")]),e("v-uni-view",{staticClass:"text-xs text-gray-400"},[t._v("去添加心仪的美酒吧")]),e("v-uni-button",{staticClass:"shopping-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goShopping.apply(void 0,arguments)}}},[t._v("去逛逛")])],1):t._e()],1),t.cartItems.length>0?e("v-uni-view",{staticClass:"cart-footer"},[e("v-uni-view",{staticClass:"cart-footer-inner"},[e("v-uni-view",{staticClass:"flex items-center"},[e("v-uni-view",{staticClass:"custom-checkbox mr-3"},[e("v-uni-checkbox",{attrs:{id:"selectAll",checked:t.allSelected,value:"selectAll"},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.selectAllItems.apply(void 0,arguments)}}}),e("v-uni-label",{attrs:{for:"selectAll"}})],1),e("v-uni-text",{staticClass:"text-sm"},[t._v("全选")])],1),e("v-uni-view",{staticClass:"flex-1 mx-3"},[e("v-uni-view",{staticClass:"cart-total"},[e("v-uni-text",{staticClass:"text-sm"},[t._v("合计：")]),e("v-uni-text",{staticClass:"price"},[t._v("¥"+t._s(t.totalPrice))])],1),e("v-uni-view",{staticClass:"text-xs text-gray-400"},[t._v("已优惠"),e("v-uni-text",{staticClass:"text-red-500"},[t._v("¥"+t._s(t.totalDiscount))]),t._v("，不含运费")],1)],1),e("v-uni-button",{staticClass:"checkout-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.checkout.apply(void 0,arguments)}}},[t._v("结算 ("+t._s(t.selectedCount)+")")])],1)],1):t._e(),e("tab-bar",{attrs:{current:2}}),t.showDeleteModal?e("v-uni-view",{staticClass:"delete-modal"},[e("v-uni-view",{staticClass:"delete-modal-content"},[e("v-uni-view",{staticClass:"text-center mb-5"},[t._v("确定要删除所选商品吗？")]),e("v-uni-view",{staticClass:"flex"},[e("v-uni-button",{staticClass:"cancel-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.closeDeleteModal.apply(void 0,arguments)}}},[t._v("取消")]),e("v-uni-button",{staticClass:"confirm-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.confirmDelete.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1):t._e()],1)},i=[]}}]);